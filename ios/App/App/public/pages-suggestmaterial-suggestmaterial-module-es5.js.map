{"version":3,"sources":["webpack:///src/app/pages/suggestmaterial/suggestmaterial.page.scss","webpack:///src/app/pages/suggestmaterial/suggestmaterial.page.html","webpack:///src/app/pages/suggestmaterial/suggestmaterial.page.ts","webpack:///src/app/pages/suggestmaterial/suggestmaterial.module.ts","webpack:///src/app/pages/suggestmaterial/suggestmaterial-routing.module.ts"],"names":["SuggestmaterialPage","router","http","formBuilder","storage","emailInput","wordSent","today","Date","now","validation_messages","type","message","wordForm","group","word","compose","minLength","maxLength","required","description","get","then","val","console","log","usrEmail","valid","obj","func","requestMaterial","value","requestDescription","userEmail","post","JSON","stringify","subscribe","data","result","reset","formInput","controls","hasError","selector","template","SuggestmaterialPageModule","imports","forRoot","declarations","routes","path","component","SuggestmaterialPageRoutingModule","forChild","exports"],"mappings":"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","file":"pages-suggestmaterial-suggestmaterial-module-es5.js","sourcesContent":["export default \".validation-errors {\\n  color: red;\\n  margin: 10px;\\n  font-size: 75%;\\n}\\n\\n.validation-confirmation {\\n  color: green;\\n  margin: 10px;\\n  font-size: 75%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3N1Z2dlc3RtYXRlcmlhbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUFDSjs7QUFFQTtFQUNJLFlBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQUNKIiwiZmlsZSI6InN1Z2dlc3RtYXRlcmlhbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmFsaWRhdGlvbi1lcnJvcnN7XG4gICAgY29sb3I6IHJlZDsgXG4gICAgbWFyZ2luOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogNzUlO1xufVxuXG4udmFsaWRhdGlvbi1jb25maXJtYXRpb257XG4gICAgY29sb3I6IGdyZWVuOyBcbiAgICBtYXJnaW46IDEwcHg7XG4gICAgZm9udC1zaXplOiA3NSU7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/whatgoeswhere\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      <div class=\\\"ion-text-wrap\\\">\\n        Suggest New Material\\n      </div>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  \\n\\n  <form [formGroup]=\\\"wordForm\\\" (ngSubmit)=\\\"submitWord()\\\">\\n    <ion-item lines=\\\"full\\\">\\n      <br>\\n      <br>\\n      <ion-text>Suggest a material to be added to the application, an admin will review your suggestion.  A material description is optional if you wish to include one.</ion-text>\\n\\n      <br>\\n      <ion-label position=\\\"floating\\\">Suggested Material\\n        <span *ngIf=\\\"formInputIsRequired('word')\\\" class=\\\"required\\\">&#42;</span>\\n      </ion-label>\\n      <ion-input formControlName=\\\"word\\\" type=\\\"text\\\" autoGrow=\\\"true\\\" required></ion-input>\\n      \\n    </ion-item>\\n\\n    <div class=\\\"validation-errors\\\">\\n      <ng-container *ngFor=\\\"let validation of validation_messages.word\\\">\\n        <div class=\\\"error-message\\\" *ngIf=\\\"wordForm.get('word').hasError(validation.type) && (wordForm.get('word').dirty || wordForm.get('word').touched)\\\">\\n          {{ validation.message }}\\n        </div>\\n      </ng-container>\\n    </div>\\n\\n    <ion-item lines=\\\"full\\\">\\n      \\n      <ion-label position=\\\"floating\\\">Material Description</ion-label>\\n      <ion-textarea formControlName=\\\"description\\\" type=\\\"text\\\" autoGrow=\\\"true\\\"></ion-textarea>\\n    </ion-item>\\n\\n    <br>\\n    \\n    <ion-row>\\n      <ion-col>\\n        <ion-button aria-label=\\\"submit\\\" type=\\\"submit\\\" color=\\\"success\\\" expand=\\\"block\\\">Submit</ion-button>\\n\\n        <div class=\\\"validation-confirmation\\\">\\n          <span *ngIf=\\\"wordFailure()\\\">Your word has been submitted!</span>        \\n        </div>\\n\\n      </ion-col>\\n    </ion-row>\\n\\n\\n    <!-- <ion-row>\\n      <ion-col>\\n        <small>\\n          *Please provide your word upon registration.\\n        </small>         \\n      </ion-col>\\n    </ion-row> -->\\n\\n  </form>\\n</ion-content>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, FormControl } from \"@angular/forms\";\nimport { HttpClient} from '@angular/common/http';\nimport { Router, NavigationExtras } from '@angular/router';\n\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-suggestmaterial',\n  templateUrl: './suggestmaterial.page.html',\n  styleUrls: ['./suggestmaterial.page.scss'],\n})\nexport class SuggestmaterialPage{\n\n  emailInput: string = \"\";\n  wordForm: FormGroup;\n  myControl: FormControl;\n  wordSent: boolean = false;\n  today = new Date(Date.now());\n  usrEmail;\n\n  // firstName: new FormControl()\n\n  constructor(private router: Router, public http: HttpClient, public formBuilder: FormBuilder, private storage: Storage) {\n    this.wordForm = formBuilder.group({\n        // Require validators for the input fields so we can quickly tell them if their input is valid, the patten string is what characters\n        // are allowed in the field and for email it makes sure there is a @ character and a domain field like .com\n        word: ['', Validators.compose([Validators.minLength(2), Validators.maxLength(30), Validators.required])],\n        description: ['']\n    });\n\n    storage.get('userEmail').then((val) => {\n      console.log('Your email is', val);\n      this.usrEmail = val;\n    });\n\n  }\n\n\n    // responsible for printing error messages to the screen based on validator \n    validation_messages = {\n      'word': [\n          { type: 'minlength', message: 'Your suggested material must be at least 2 characters long.' },\n          { type: 'maxlength', message: 'Your suggested material must be less than 30 characters long.' },\n          { type: 'required', message: 'You must enter a word to submit.' }\n        ]\n      }\n\n  submitWord(){\n\n    if(!this.wordForm.valid){\n      console.log(\"INVALID\");\n    } else {\n      console.log(\"VALID\");\n\n      this.wordSent = true;\n\n      // Find a way to get email and password input from user\n      var obj = {func: \"add_request\", requestMaterial: this.wordForm.value['word'],  requestDescription: this.wordForm.value['description'], userEmail: this.usrEmail};\n    \n      this.http.post(\"https://recycle.hpc.tcnj.edu/php/material-requests-handler.php\", JSON.stringify(obj)).subscribe(data => {\n      \n          var result = data as any[];\n\n          if(result['missingInput']){\n            // output to user it succeeded and move to next page\n            this.wordSent = false;\n\n          } else {\n            this.wordSent = true;\n            this.wordForm.reset(); \n          }\n      });\n\n    }\n  }\n\n  wordFailure(){\n    return this.wordSent;\n  }\n\n  formInputIsRequired(formInput: string) {\n    if (this.wordForm.controls[formInput]) {\n      if (this.wordForm.controls[formInput].hasError('required')) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SuggestmaterialPageRoutingModule } from './suggestmaterial-routing.module';\n\nimport { SuggestmaterialPage } from './suggestmaterial.page';\n\nimport { IonicStorageModule } from '@ionic/storage';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IonicStorageModule.forRoot(),\n    ReactiveFormsModule,\n    SuggestmaterialPageRoutingModule\n  ],\n  declarations: [SuggestmaterialPage]\n})\nexport class SuggestmaterialPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SuggestmaterialPage } from './suggestmaterial.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SuggestmaterialPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SuggestmaterialPageRoutingModule {}\n"]}