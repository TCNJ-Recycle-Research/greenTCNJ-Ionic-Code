{"version":3,"sources":["./src/app/pages/whatgoeswhere/whatgoeswhere.page.html","./src/app/pages/whatgoeswhere/whatgoeswhere-routing.module.ts","./src/app/pages/whatgoeswhere/whatgoeswhere.page.scss","./src/app/pages/whatgoeswhere/whatgoeswhere.module.ts","./src/app/pages/whatgoeswhere/whatgoeswhere.page.ts"],"names":[],"mappings":"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","file":"pages-whatgoeswhere-whatgoeswhere-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu =\\\"main-menu\\\"></ion-menu-button>\\n    </ion-buttons>\\n      <ion-title>\\n        <div class=\\\"ion-text-wrap\\\">\\n          What Goes Where?\\n        </div>\\n      </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- Default Segment -->\\n  <ion-segment color=\\\"primary\\\" [(ngModel)]=\\\"type\\\" scrollable>\\n    <ion-segment-button value=\\\"all\\\" checked>\\n      <ion-label>All Items</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"popular\\\">\\n      <ion-label>Popular Searches</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n  <div [ngSwitch]=\\\"type\\\">\\n    <ion-list *ngSwitchCase=\\\"'all'\\\">\\n\\n      <ion-item>\\n        <ion-thumbnail slot=\\\"start\\\">\\n          <img alt=\\\"\\\" src = \\\"../../assets/RecyclingRoscoeSquare.png\\\">\\n        </ion-thumbnail>\\n        <ion-label class=\\\"ion-text-wrap\\\"><h1><strong>What Goes Where?</strong></h1> Ask Roscoe!</ion-label>\\n      </ion-item>\\n      \\n    \\n      <ion-searchbar \\n        animated\\n        (ionInput)=\\\"searchMaterials($event)\\\">\\n      </ion-searchbar>\\n    \\n      <ion-list id=\\\"search-results\\\">\\n        <ion-item *ngFor=\\\"let material of searchResults\\\">\\n          <ion-button aria-label=\\\"material.name\\\" color=\\\"success\\\" size=\\\"medium\\\" [innerHTML]=\\\"material.name\\\" [attr.data-material-id]=\\\"material.id\\\" (click)=\\\"openDetailsWithState($event)\\\">\\n          </ion-button>\\n        </ion-item>\\n      </ion-list>\\n\\n    </ion-list>\\n\\n    <ion-list *ngSwitchCase=\\\"'popular'\\\">\\n      <!-- Here is where we display the popular materials () -->\\n      <ion-item>\\n        <ion-thumbnail slot=\\\"start\\\">\\n          <img alt=\\\"\\\" src = \\\"../../assets/RecyclingRoscoeSquare.png\\\">\\n        </ion-thumbnail>\\n        <ion-label class=\\\"ion-text-wrap\\\"><h1><strong>Top Materials</strong></h1>These are commonly searched items.</ion-label>\\n      </ion-item>\\n      \\n\\n      <ion-list>\\n        <ion-item *ngFor=\\\"let material of popMaterials\\\">\\n          <ion-button  aria-label=\\\"material.name\\\" color=\\\"success\\\" size=\\\"medium\\\" [innerHTML]=\\\"material.name\\\" [attr.data-material-id]=\\\"material.id\\\" (click)=\\\"openDetailsWithState($event)\\\">\\n          </ion-button>\\n        </ion-item>\\n      </ion-list>\\n      \\n    </ion-list>\\n  </div>\\n  \\n  \\n  <ion-footer class=\\\"ion-no-border padding-vertical\\\">\\n    <ion-toolbar>\\n      <ion-item>\\n        <ion-text class=\\\"ion-padding-vertical\\\">Looking for a material that is not on our list? \\n          <a [routerLink]=\\\"['/suggestmaterial']\\\" class=\\\"small-text\\\">\\n            <img class = \\\"buttonSize\\\" alt=\\\"\\\" src = \\\"../../assets/button.png\\\">\\n          </a>\\n        </ion-text>\\n      </ion-item>\\n    </ion-toolbar>\\n  </ion-footer>\\n\\n  \\n  </ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WhatgoeswherePage } from './whatgoeswhere.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WhatgoeswherePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WhatgoeswherePageRoutingModule {}\n","export default \".block {\\n  display: block;\\n  width: 100%;\\n  border: none;\\n  background-color: #4CAF50;\\n  padding: 14px 28px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  text-align: center;\\n}\\n\\n.list-title {\\n  text-overflow: unset;\\n  white-space: unset;\\n}\\n\\n.button {\\n  --vertical-align: middle;\\n  --padding-start: 10px;\\n  --padding-end: 10px;\\n}\\n\\n.buttonSize {\\n  margin-left: 25%;\\n  width: 50%;\\n  height: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3doYXRnb2Vzd2hlcmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFRTtFQUNFLG9CQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQztFQUlDLHdCQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtBQUZGOztBQUtDO0VBQ0UsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtBQUZIIiwiZmlsZSI6IndoYXRnb2Vzd2hlcmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJsb2NrIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDtcbiAgICBwYWRkaW5nOiAxNHB4IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAubGlzdC10aXRsZSB7XG4gICAgdGV4dC1vdmVyZmxvdzogdW5zZXQ7XG4gICAgd2hpdGUtc3BhY2U6IHVuc2V0O1xuIH1cblxuIC5idXR0b257XG4gIC8vIC0td2lkdGg6IDkwcHg7XG4gIC8vIC0taGVpZ2h0OiA5MHB4O1xuICAvLyAtLWJvcmRlci1yYWRpdXM6IDUwJTtcbiAgLS12ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAtLXBhZGRpbmctc3RhcnQ6IDEwcHg7XG4gIC0tcGFkZGluZy1lbmQ6IDEwcHg7XG4gfVxuXG4gLmJ1dHRvblNpemUge1xuICAgbWFyZ2luLWxlZnQ6IDI1JTtcbiAgIHdpZHRoOiA1MCU7XG4gICBoZWlnaHQ6IDUwJTtcbiAgIFxuICB9Il19 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WhatgoeswherePageRoutingModule } from './whatgoeswhere-routing.module';\n\nimport { WhatgoeswherePage } from './whatgoeswhere.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WhatgoeswherePageRoutingModule,\n    FormsModule\n  ],\n  declarations: [WhatgoeswherePage]\n})\nexport class WhatgoeswherePageModule {}\n","import { Component } from '@angular/core';\nimport { HttpClient, HttpHeaders} from '@angular/common/http';\nimport { Router, NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-whatgoeswhere',\n  templateUrl: './whatgoeswhere.page.html',\n  styleUrls: ['./whatgoeswhere.page.scss'],\n})\n\nexport class WhatgoeswherePage {\n\n    materialsBackup: { [key: number]: any } = {};\n\n    materials: {id: any, name: any, type: any}[] = [];\n\n    searchResults: {id: any, name: any, type: any}[] = [];\n\n    type: string; // used to initialize tab to the view all page \n\n    popMaterials: {name: any, id: any}[] = [];\n\n    constructor(private router: Router, public http: HttpClient) {\n\n        this.getAllMaterials();\n        this.popularMaterials();\n        this.type = 'all';\n    }\n\n    getAllMaterials() {\n\n        if(this.materials.length > 0){\n            this.searchResults = this.materials;\n        }\n        else{\n            \n            var obj = {func: \"get_all_materials\"};\n            \n            this.http.post(\"https://recycle.hpc.tcnj.edu/php/materials-handler.php\", JSON.stringify(obj)).subscribe(data => {\n            \n                var result = data as any[];\n\n                for(var i = 0; i < result.length; i++){\n                    this.materials.push({id: result[i][\"materialID\"], name: result[i][\"materialName\"], type: result[i][\"materialType\"]});\n\n                    this.materialsBackup[result[i][\"materialID\"]] = result[i];\n                }\n\n                this.searchResults = this.materials;\n            });\n        }\n    }\n\n    popularMaterials(){\n        var obj = {func: \"get_material_stats\"};\n            \n        this.http.post(\"https://recycle.hpc.tcnj.edu/php/graphs-handler.php\", JSON.stringify(obj)).subscribe(data => {\n        \n            var result = data as any[];\n\n            // want the top 6 materials to be displayed\n            for(var i = 0; i < 6; i++){\n                this.popMaterials.push({name: result[\"topMaterials\"][i][\"materialName\"], id: result[\"topMaterials\"][i][\"materialID\"]});\n            }\n        });\n    }\n\n    async searchMaterials(ev: any) {\n        this.searchResults = this.materials;\n        const searchString = ev.target.value;\n      \n        if (!searchString) {\n          return;\n        }\n      \n        this.searchResults = this.searchResults.filter(currMaterial => {\n            return (currMaterial.name.toLowerCase().indexOf(searchString.toLowerCase()) > -1 || currMaterial.type.toLowerCase().indexOf(searchString.toLowerCase()) > -1);\n        });\n    }\n\n    // this function is to send the material ID to the materials-specs page \n    openDetailsWithState(ev: any) {\n\n        let navigationExtras: NavigationExtras = {\n            state: {\n              searchResults: this.materialsBackup[ev.target.getAttribute('data-material-id').toString()]\n            }\n          };\n        this.router.navigate(['/material-specs'], navigationExtras);\n    }\n}"],"sourceRoot":"webpack:///"}