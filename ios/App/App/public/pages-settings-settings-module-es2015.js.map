{"version":3,"sources":["./src/app/pages/settings/settings-routing.module.ts","./src/app/pages/settings/settings.page.html","./src/app/pages/settings/settings.page.scss","./src/app/pages/settings/settings.page.ts","./src/app/pages/settings/settings.module.ts"],"names":[],"mappings":"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","file":"pages-settings-settings-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-title>\\n      <div class=\\\"ion-text-wrap\\\">\\n        Settings\\n      </div>\\n    </ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu =\\\"main-menu\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n\\n\\n  \\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <!-- <ion-item lines=\\\"full\\\">\\n      <ion-icon slot=\\\"start\\\" name=\\\"moon\\\"></ion-icon>\\n      <ion-label>\\n        Toggle Dark Theme\\n      </ion-label>\\n      <ion-toggle (ionChange)=\\\"onClick($event)\\\" slot=\\\"end\\\"></ion-toggle>\\n    </ion-item> -->\\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label>\\n       Recieve push notifications\\n      </ion-label>\\n      <ion-toggle (ionChange)=\\\"onClick($event)\\\" slot=\\\"end\\\"></ion-toggle>\\n    </ion-item>\\n\\n  </ion-list>\\n\\n\\n  <br>\\n  <ion-list>\\n    <ion-title>Manage my interests</ion-title>\\n    <ion-item *ngFor=\\\"let entry of form\\\">\\n      <ion-label>{{entry.val}}</ion-label>\\n      <ion-checkbox slot=\\\"end\\\" (ionChange)=\\\"boxChecked($event)\\\" [(ngModel)]=\\\"entry.isChecked\\\"></ion-checkbox>\\n    </ion-item>\\n    <ion-button aria-label=\\\"update interests\\\" [disabled]=\\\"buttonDisabled\\\" color=\\\"success\\\" expand=\\\"full\\\" (click)=\\\"updateUserInterests()\\\">Update Interests</ion-button>\\n  </ion-list>\\n  \\n\\n\\n\\n\\n\\n</ion-content>\\n\\n\\n<ion-footer class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    \\n    <ion-button aria-label=\\\"logout\\\" expand=\\\"full\\\" (click)=\\\"logout()\\\">Logout</ion-button>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZXR0aW5ncy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit, Renderer2 } from '@angular/core';\n\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { Router, NavigationExtras  } from '@angular/router';\nimport { HttpClient, HttpHeaders} from '@angular/common/http';\n\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\n\nexport class SettingsPage {\n\n  public form = [\n    { val: 'Recycling', isChecked: false },\n    { val: 'Water Conservation', isChecked: false },\n    { val: 'Pollution Prevention', isChecked: false },\n    { val: 'Energy', isChecked: false }\n  ];\n\n  userID: any;\n  recycling: any;\n  water: any;\n  pollution: any;\n  energy: any;\n\n  buttonDisabled: any;\n\n  constructor(private authService: AuthenticationService, private router: Router, private renderer: Renderer2, private storage: Storage, public http: HttpClient) { \n\n    storage.get('userID').then((val) => {\n      this.userID = val;\n    });\n\n    this.buttonDisabled = true;\n    this.loadInterests();\n  }\n\n  loadInterests(){\n    \n    this.storage.get('userRecyclingInterest').then((val) => {\n      this.recycling = val;\n\n      if(val == 0 || val == null){\n        this.form[0].isChecked = false;\n      }else{\n        this.form[0].isChecked = true;\n      }\n    });\n\n    this.storage.get('userWaterInterest').then((val) => {\n      this.water = val;\n\n      if(val == 0 || val == null){\n        this.form[1].isChecked = false;\n      }else{\n        this.form[1].isChecked = true;\n      }\n    });\n\n    this.storage.get('userPollutionInterest').then((val) => {\n      this.pollution = val;\n\n      if(val == 0 || val == null){\n        this.form[2].isChecked = false;\n      }else{\n        this.form[2].isChecked = true;\n      }\n    });\n\n    this.storage.get('userEnergyInterest').then((val) => {\n      this.energy = val;\n\n      if(val == 0 || val == null){\n        this.form[3].isChecked = false;\n      }else{\n        this.form[3].isChecked = true;\n      }\n    });\n\n    this.buttonDisabled = true;\n  }\n\n  boxChecked(item){\n    //check item.user and do stuff\n    // enables update user interests if a box has been altered\n    this.buttonDisabled = false;\n  }\n\n  updateUserInterests(){\n\n    if(this.form[0].isChecked){\n      this.recycling = 1;\n    }else{\n      \n      this.recycling = 0;\n    }\n\n    if(this.form[1].isChecked){\n      this.water = 1;\n    }else{\n      this.water = 0;\n    }\n\n    if(this.form[2].isChecked){\n      this.pollution = 1;\n    }else{\n      this.pollution = 0;\n    }\n\n    if(this.form[3].isChecked){\n      this.energy = 1;\n    }else{\n      this.energy = 0;\n    }\n\n   var obj = {func: \"edit_user_interests\", userID: this.userID, recyclingInterest: this.recycling, waterInterest: this.water, pollutionInterest: this.pollution, energyInterest: this.energy};\n\n    this.http.post(\"https://recycle.hpc.tcnj.edu/php/users-handler.php\", JSON.stringify(obj)).subscribe(data => {\n    \n        var result = data as any[];\n\n        if(result['missingInput']){\n          // output to user it succeeded and move to next page\n          console.log(\"missing Input\");\n\n        } else {\n          this.storage.set('userRecyclingInterest', this.recycling);\n          this.storage.set('userWaterInterest', this.water);\n          this.storage.set('userPollutionInterest', this.pollution);\n          this.storage.set('userEnergyInterest', this.energy);\n          this.buttonDisabled = true;\n\n        }\n    });\n\n  }\n\n\n  async logout() {\n    // clears local storage \n    this.storage.clear();\n    await this.authService.logout();\n    this.router.navigateByUrl('/', { replaceUrl: true });\n  }\n\n  onClick(event){\n    if(event.detail.checked){\n      this.renderer.setAttribute(document.body, 'color-theme', 'dark');\n    }\n    else{\n      this.renderer.setAttribute(document.body, 'color-theme', 'light');\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\nimport { IonicStorageModule } from '@ionic/storage';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IonicStorageModule.forRoot(),\n    SettingsPageRoutingModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n\n\n"],"sourceRoot":"webpack:///"}