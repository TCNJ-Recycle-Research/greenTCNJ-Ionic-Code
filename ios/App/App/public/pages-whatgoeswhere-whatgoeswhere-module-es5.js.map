{"version":3,"sources":["webpack:///src/app/pages/whatgoeswhere/whatgoeswhere.page.html","webpack:///src/app/pages/whatgoeswhere/whatgoeswhere-routing.module.ts","webpack:///src/app/pages/whatgoeswhere/whatgoeswhere.page.scss","webpack:///src/app/pages/whatgoeswhere/whatgoeswhere.module.ts","webpack:///src/app/pages/whatgoeswhere/whatgoeswhere.page.ts"],"names":["routes","path","component","WhatgoeswherePageRoutingModule","imports","forChild","exports","WhatgoeswherePageModule","declarations","WhatgoeswherePage","router","http","materialsBackup","materials","searchResults","popMaterials","getAllMaterials","popularMaterials","type","length","obj","func","post","JSON","stringify","subscribe","data","result","i","push","id","name","ev","searchString","target","value","filter","currMaterial","toLowerCase","indexOf","navigationExtras","state","getAttribute","toString","navigate","selector","template"],"mappings":"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","file":"pages-whatgoeswhere-whatgoeswhere-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu =\\\"main-menu\\\"></ion-menu-button>\\n    </ion-buttons>\\n      <ion-title>\\n        <div class=\\\"ion-text-wrap\\\">\\n          What Goes Where?\\n        </div>\\n      </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- Default Segment -->\\n  <ion-segment color=\\\"primary\\\" [(ngModel)]=\\\"type\\\" scrollable>\\n    <ion-segment-button value=\\\"all\\\" checked>\\n      <ion-label>All Items</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"popular\\\">\\n      <ion-label>Popular Searches</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n  <div [ngSwitch]=\\\"type\\\">\\n    <ion-list *ngSwitchCase=\\\"'all'\\\">\\n\\n      <ion-item>\\n        <ion-thumbnail slot=\\\"start\\\">\\n          <img alt=\\\"\\\" src = \\\"../../assets/RecyclingRoscoeSquare.png\\\">\\n        </ion-thumbnail>\\n        <ion-label class=\\\"ion-text-wrap\\\"><h1><strong>What Goes Where?</strong></h1> Ask Roscoe!</ion-label>\\n      </ion-item>\\n      \\n    \\n      <ion-searchbar \\n        animated\\n        (ionInput)=\\\"searchMaterials($event)\\\">\\n      </ion-searchbar>\\n    \\n      <ion-list id=\\\"search-results\\\">\\n        <ion-item *ngFor=\\\"let material of searchResults\\\">\\n          <ion-button aria-label=\\\"material.name\\\" color=\\\"success\\\" size=\\\"medium\\\" [innerHTML]=\\\"material.name\\\" [attr.data-material-id]=\\\"material.id\\\" (click)=\\\"openDetailsWithState($event)\\\">\\n          </ion-button>\\n        </ion-item>\\n      </ion-list>\\n\\n    </ion-list>\\n\\n    <ion-list *ngSwitchCase=\\\"'popular'\\\">\\n      <!-- Here is where we display the popular materials () -->\\n      <ion-item>\\n        <ion-thumbnail slot=\\\"start\\\">\\n          <img alt=\\\"\\\" src = \\\"../../assets/RecyclingRoscoeSquare.png\\\">\\n        </ion-thumbnail>\\n        <ion-label class=\\\"ion-text-wrap\\\"><h1><strong>Top Materials</strong></h1>These are commonly searched items.</ion-label>\\n      </ion-item>\\n      \\n\\n      <ion-list>\\n        <ion-item *ngFor=\\\"let material of popMaterials\\\">\\n          <ion-button  aria-label=\\\"material.name\\\" color=\\\"success\\\" size=\\\"medium\\\" [innerHTML]=\\\"material.name\\\" [attr.data-material-id]=\\\"material.id\\\" (click)=\\\"openDetailsWithState($event)\\\">\\n          </ion-button>\\n        </ion-item>\\n      </ion-list>\\n      \\n    </ion-list>\\n  </div>\\n  \\n  \\n  <ion-footer class=\\\"ion-no-border padding-vertical\\\">\\n    <ion-toolbar>\\n      <ion-item>\\n        <ion-text class=\\\"ion-padding-vertical\\\">Looking for a material that is not on our list? \\n          <a [routerLink]=\\\"['/suggestmaterial']\\\" class=\\\"small-text\\\">Submit a material here!</a>\\n        </ion-text>\\n      </ion-item>\\n    </ion-toolbar>\\n  </ion-footer>\\n\\n  \\n  </ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { WhatgoeswherePage } from './whatgoeswhere.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: WhatgoeswherePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class WhatgoeswherePageRoutingModule {}\n","export default \".block {\\n  display: block;\\n  width: 100%;\\n  border: none;\\n  background-color: #4CAF50;\\n  padding: 14px 28px;\\n  font-size: 16px;\\n  cursor: pointer;\\n  text-align: center;\\n}\\n\\n.list-title {\\n  text-overflow: unset;\\n  white-space: unset;\\n}\\n\\n.button {\\n  --vertical-align: middle;\\n  --padding-start: 10px;\\n  --padding-end: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3doYXRnb2Vzd2hlcmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFRTtFQUNFLG9CQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQztFQUlDLHdCQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtBQUZGIiwiZmlsZSI6IndoYXRnb2Vzd2hlcmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJsb2NrIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDtcbiAgICBwYWRkaW5nOiAxNHB4IDI4cHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAubGlzdC10aXRsZSB7XG4gICAgdGV4dC1vdmVyZmxvdzogdW5zZXQ7XG4gICAgd2hpdGUtc3BhY2U6IHVuc2V0O1xuIH1cblxuIC5idXR0b257XG4gIC8vIC0td2lkdGg6IDkwcHg7XG4gIC8vIC0taGVpZ2h0OiA5MHB4O1xuICAvLyAtLWJvcmRlci1yYWRpdXM6IDUwJTtcbiAgLS12ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAtLXBhZGRpbmctc3RhcnQ6IDEwcHg7XG4gIC0tcGFkZGluZy1lbmQ6IDEwcHg7XG4gfSJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { WhatgoeswherePageRoutingModule } from './whatgoeswhere-routing.module';\n\nimport { WhatgoeswherePage } from './whatgoeswhere.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WhatgoeswherePageRoutingModule,\n    FormsModule\n  ],\n  declarations: [WhatgoeswherePage]\n})\nexport class WhatgoeswherePageModule {}\n","import { Component } from '@angular/core';\nimport { HttpClient, HttpHeaders} from '@angular/common/http';\nimport { Router, NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-whatgoeswhere',\n  templateUrl: './whatgoeswhere.page.html',\n  styleUrls: ['./whatgoeswhere.page.scss'],\n})\n\nexport class WhatgoeswherePage {\n\n    materialsBackup: { [key: number]: any } = {};\n\n    materials: {id: any, name: any, type: any}[] = [];\n\n    searchResults: {id: any, name: any, type: any}[] = [];\n\n    type: string; // used to initialize tab to the view all page \n\n    popMaterials: {name: any, id: any}[] = [];\n\n    constructor(private router: Router, public http: HttpClient) {\n\n        this.getAllMaterials();\n        this.popularMaterials();\n        this.type = 'all';\n    }\n\n    getAllMaterials() {\n\n        if(this.materials.length > 0){\n            this.searchResults = this.materials;\n        }\n        else{\n            \n            var obj = {func: \"get_all_materials\"};\n            \n            this.http.post(\"https://recycle.hpc.tcnj.edu/php/materials-handler.php\", JSON.stringify(obj)).subscribe(data => {\n            \n                var result = data as any[];\n\n                for(var i = 0; i < result.length; i++){\n                    this.materials.push({id: result[i][\"materialID\"], name: result[i][\"materialName\"], type: result[i][\"materialType\"]});\n\n                    this.materialsBackup[result[i][\"materialID\"]] = result[i];\n                }\n\n                this.searchResults = this.materials;\n            });\n        }\n    }\n\n    popularMaterials(){\n        var obj = {func: \"get_material_stats\"};\n            \n        this.http.post(\"https://recycle.hpc.tcnj.edu/php/graphs-handler.php\", JSON.stringify(obj)).subscribe(data => {\n        \n            var result = data as any[];\n\n            // want the top 6 materials to be displayed\n            for(var i = 0; i < 6; i++){\n                this.popMaterials.push({name: result[\"topMaterials\"][i][\"materialName\"], id: result[\"topMaterials\"][i][\"materialID\"]});\n            }\n        });\n    }\n\n    async searchMaterials(ev: any) {\n        this.searchResults = this.materials;\n        const searchString = ev.target.value;\n      \n        if (!searchString) {\n          return;\n        }\n      \n        this.searchResults = this.searchResults.filter(currMaterial => {\n            return (currMaterial.name.toLowerCase().indexOf(searchString.toLowerCase()) > -1 || currMaterial.type.toLowerCase().indexOf(searchString.toLowerCase()) > -1);\n        });\n    }\n\n    // this function is to send the material ID to the materials-specs page \n    openDetailsWithState(ev: any) {\n\n        let navigationExtras: NavigationExtras = {\n            state: {\n              searchResults: this.materialsBackup[ev.target.getAttribute('data-material-id').toString()]\n            }\n          };\n        this.router.navigate(['/material-specs'], navigationExtras);\n    }\n}"]}